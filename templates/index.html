{% extends 'base.html' %}
{% block page_title %}AI Salary Predictor{% endblock %}
{% block content %}

<h1 class="mb-4">Predict your salary using AI</h1>

{% if prediction %}
  <div class="alert alert-success">
    <h4>Your predicted salary is:</h4>
    <p class="fs-4 text-danger">
      ${{ "{:,.2f}".format(prediction.predicted_salary) }}
    </p>
  </div>
{% endif %}

{% if error %}
  <div class="alert alert-danger">
    {{ error }}
  </div>
{% endif %}

<form name="salary_prediction_form" action="/predict" method="POST" class="row g-3 needs-validation" novalidate>
  
  <div class="col-md-6">
    <label for="ageSelect" class="form-label">Age Range:</label>
    <select class="form-select" name="age" id="ageSelect" required>
      <option value="">-- please choose your age --</option>
      <option value="0">18-21</option>
      <option value="1">22-24</option>
      <option value="2">25-29</option>
      <option value="3">30-34</option>
      <option value="4">35-39</option>
      <option value="5">40-44</option>
      <option value="6">45-49</option>
      <option value="7">50-54</option>
      <option value="8">55-59</option>
      <option value="9">60-69</option>
      <option value="10">70+</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="genderSelect" class="form-label">Gender:</label>
    <select class="form-select" name="gender" id="genderSelect" required>
      <option value="">-- please choose your Gender --</option>
      <option value="0">Man</option>
      <option value="1">Nonbinary</option>
      <option value="2">Prefer not to say</option>
      <option value="3">Prefer to self-describe</option>
      <option value="4">Woman</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="countrySelect" class="form-label">Country:</label>
    <select class="form-select" name="country" id="countrySelect" required>
      <option value="">-- please choose your country --</option>
      {% for i, c in countries %}
      <option value="{{ i }}">{{ c }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-6">
    <label for="educationSelect" class="form-label">Highest Degree:</label>
    <select class="form-select" name="highest_deg" id="educationSelect" required>
      <option value="">-- please choose your education --</option>
      <option value="0">Bachelor’s degree</option>
      <option value="1">Doctoral degree</option>
      <option value="2">I prefer not to answer</option>
      <option value="3">Master’s degree</option>
      <option value="4">No formal education past high school</option>
      <option value="5">Professional doctorate</option>
      <option value="6">Some college/university study without a bachelor’s degree</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="codingExperienceSelect" class="form-label">Coding Experience:</label>
    <select class="form-select" name="coding_exp" id="codingExperienceSelect" required>
      <option value="">-- please choose your experience --</option>
      <option value="0">1-3 years</option>
      <option value="1">10-20 years</option>
      <option value="2">20+ years</option>
      <option value="3">3-5 years</option>
      <option value="4">5-10 years</option>
      <option value="5">&lt; 1 year</option>
      <option value="6">I have never written code</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="titleSelect" class="form-label">Current Title:</label>
    <select class="form-select" name="title" id="titleSelect" required>
      <option value="">-- please choose your current title --</option>
      <option value="0">Data Administrator</option>
      <option value="1">Data Analyst</option>
      <option value="2">Data Architect</option>
      <option value="3">Data Engineer</option>
      <option value="4">Data Scientist</option>
      <option value="5">Developer Advocate</option>
      <option value="6">Engineer (non-software)</option>
      <option value="7">ML/MLOps Engineer</option>
      <option value="8">Manager</option>
      <option value="9">Other</option>
      <option value="10">Research Scientist</option>
      <option value="11">Software Engineer</option>
      <option value="12">Statistician</option>
      <option value="13">Teacher / Professor</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="companySizeSelect" class="form-label">Company Size:</label>
    <select class="form-select" name="company_size" id="companySizeSelect" required>
      <option value="">-- please choose your company size --</option>
      <option value="0">0-49 employees</option>
      <option value="1">10,000+ employees</option>
      <option value="2">1000–9,999 employees</option>
      <option value="3">250–999 employees</option>
      <option value="4">50–249 employees</option>
    </select>
  </div>

  <div class="col-12">
    <button type="submit" class="btn btn-primary mt-3">Predict My Salary</button>
  </div>
</form>

{% endblock %}
